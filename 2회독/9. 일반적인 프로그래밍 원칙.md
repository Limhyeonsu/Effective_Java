# 9. 일반적인 프로그래밍 원칙

## 아이템 57. 지역변수의 범위를 최소화하라
지역변수의 유효 범위를 최소로 줄이면 코드 가독성과 유지보수성이 높아지고 오류 가능성은 낮아진다. `지역변수의 범위를 줄이는 가장 강력한 기법은 가장 처음 쓰일 때 선언하기 다.` 지역변수를 생각 없이 선언하다 보면 변수가 쓰이는 범위보다 너무 앞서 선언하거나, 다 쓴 뒤에도 여전히 살아 있게 되기 쉽다. 또 `거의 모든 지역변수는 선언과 동시에 초기화해야 한다.` 초기화에 필요한 정보가 충분하지 않다면 충분해질 때까지 선언을 미뤄야 한다.

반복문에서는 반복 변수의 범위가 반복문의 몸체, 그리고 for 키워드와 몸체 사이의 괄호 안으로 제한된다. 따라서 반복 변수의 값을 반복문이 종료된 뒤에도 써야하는 상황이 아니라면 while 문보다는 for문을 사용하는 것이 좋다.

지역변수 범위를 최소화하는 마지막 방법은 `메서드를 작게 유지하고 한 가지 기능에 집중하는 것이다.`

### 아이템 58. 전통적인 for문 보다는 for-each문을 사용하라
```java
//컬렉션 순회
for(Iterator<Element> i = c.iterator(); i.hasNext();) {
    Element e = i.next();
    ....
}

//배열 순회
for(int i = 0; i < a.length; i++) {
    ....
}
```
for-each문(향상된 for문)을 사용하게 되면 반복자와 인덱스 변수를 사용하지 않아 코드가 깔끔해지고 오류가 날 일도 없다.
```java
for(Element e : elements) {
    ...
}
```
[for-each문을 사용할 수 없는 상황]
* 파괴적인 필터링 - 컬렉션을 순회하면서 선택된 원소를 제거해야 한다면 반복자의 remove 메서드를 호출해야 한다.
* 변형 - 리스트, 배열을 순회하면서 그 원소의 값의 일부 혹은 전체를 교체해야 한다면 인덱스를 사용해야 한다.
* 병렬 반복 - 여러 컬렉션을 병렬로 순회해야 한다면 각각의 반복자와 인덱스 변수를 사용해 엄격하고 명시적으로 제어해야 한다.

## 아이템 59 라이브러리를 익히고 사용하라
표준 라이브러리를 사용했을 때 이점
1. 그 코드를 작성한 전문가의 지식과 여러분보다 앞서 사용한 다른 프로그래머들의 경험을 활용할 수 있다. 
2. 핵심적인 일과 크게 관련 없는 문제를 해결하느라 시간을 허비하지 않아도 된다.
3. 따로 노력하지 않아도 성능이 지속해서 개선된다.
4. 기능이 점점 많아 진다.
5. 여러분이 작성한 코드가 많은 사람에게 낯익은 코드가 된다는 것이다.

라이브러리가 너무 방대하여 모든 API 문서를 공부하기에는 벅차다 자바 프로그래머라면 적어도 `java.lang, java.util, java.io와 그 하위 패키지들에는 익숙해져야 한다. 또 컬렉션 프레임워크, 스트림 라이브러리 java.util.concurrent의 동시성 기능도 마찬가지다.`

## 아이템 60. 정확한 답이 필요하다면 float와 double은 피하라
float와 double 타입은 과학과 공학 계산용으로 설계되었다. 이진 부동소수점 연산에 쓰이며, 넓은 범위의 수를 빠르게 정밀한 근사치로 계산하도록 세심하게 설계되었다. 따라서 __정확한 계산이 필요할 때는 사용하면 안 된다.__ `금융 계산에는 BigDecimal, int or long을 사용해야 한다.`

BigDecimal의 단점으로 기본 타입보다 쓰기가 훨씬 불편하고, 훨씬 느리다. 
